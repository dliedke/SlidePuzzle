<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ðŸ§©</title><style>*,*::before,*::after{box-sizing:border-box}body{margin:0;font-family:sans-serif;display:flex;flex-direction:column;align-items:center;padding:1rem;background:linear-gradient(135deg,#2c3e50 0%,#4ca1af 100%);min-height:100vh;color:#fff}#z{font-size:2rem;margin:.5rem 0;color:#ecf0f1;text-shadow:1px 1px 2px rgba(0,0,0,.3)}#c{margin-bottom:1rem;display:flex;flex-wrap:wrap;gap:.5rem}.b,#n,#h,#d{padding:.6rem 1.2rem;font-size:1rem;font-weight:600;border:none;border-radius:30px;cursor:pointer;transition:transform .2s,box-shadow .2s;background:#3498db;color:#fff}.b:hover,#n:hover,#h:hover,#d:hover{transform:scale(1.05);box-shadow:0 4px 10px rgba(0,0,0,.3)}#p{position:relative;background:linear-gradient(135deg,#1f2833,#3a4750);padding:8px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.5);margin-bottom:1.5rem}.T{position:absolute;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,.3);display:flex;align-items:center;justify-content:center;font-size:1.8rem;font-weight:bold;color:#fff;user-select:none;background:linear-gradient(135deg,#4A90E2 0%,#357ABD 100%);transition:transform .1s,background .3s,left .3s ease-out,top .3s ease-out;cursor:pointer}.T:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.5)}.m{z-index:5;transition:left .3s cubic-bezier(.25,.46,.45,.94),top .3s cubic-bezier(.25,.46,.45,.94)}.H{background:transparent;box-shadow:none;visibility:hidden}.C{background:linear-gradient(135deg,#58D68D 0%,#2ECC71 100%)!important}.N{background:linear-gradient(135deg,#f4d03f 0%,#f1c40f 100%)!important}#i{background:rgba(0,0,0,.6);padding:.6rem 1.2rem;border-radius:30px;box-shadow:0 2px 6px rgba(0,0,0,.4);font-size:1rem;display:inline-block;color:#fff}#D{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:10}#D.H{display:none}.w{background:linear-gradient(135deg,#fff,#e6e6e6);padding:2rem;border-radius:12px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.3)}.w h2{margin-top:0;color:#333}.w p{font-size:1.2rem;margin:.5rem 0;color:#555}.w button{margin-top:1rem}</style></head><body><h1 id="z">ðŸ§© Quebra-CabeÃ§a ðŸ§©</h1><div id="c"><button class="b" data-s="3">3Ã—3</button><button class="b" data-s="4">4Ã—4</button><button id="n">Novo Jogo</button><button id="h">Ativar Dicas</button></div><div id="p"></div><div id="i">Movimentos: <span id="M">0</span> | Tempo: <span id="T">00:00</span></div><div id="D" class="H"><div class="w"><h2>ParabÃ©ns!</h2><p>Movimentos: <span id="u">0</span></p><p>Tempo: <span id="v">00:00</span></p><button id="d">Novo Jogo</button></div></div><script>(()=>{let $=document.getElementById('p'),_=document.querySelectorAll('.b'),a=document.getElementById('n'),b=document.getElementById('h'),c=document.getElementById('M'),d=document.getElementById('T'),e=document.getElementById('D'),f=document.getElementById('u'),g=document.getElementById('v'),h=document.getElementById('d'),i=3,j=[],k={r:0,c:0},l=0,m,n=!1,o=0,p=5,q=!1;_.forEach(t=>{t.addEventListener('click',()=>{I(parseInt(t.dataset.s))})});a.addEventListener('click',()=>I(i));b.addEventListener('click',V);h.addEventListener('click',()=>{I(i);e.classList.add('H')});function I(t){i=t;clearInterval(m);j=[];l=0;c.textContent='0';d.textContent='00:00';q=!1;U();e.classList.add('H');J();K();Y();L()}function J(){for(let t=0;t<i;t++){j[t]=[];for(let r=0;r<i;r++)j[t][r]=t*i+r+1}j[i-1][i-1]=0;k={r:i-1,c:i-1}}function K(){for(let t=0;t<1e3;t++){let r=P(k.r,k.c),s=r[Math.floor(Math.random()*r.length)];Q(k,s);k={r:s.r,c:s.c}}}function V(){n=!n;U();L()}function U(){b.textContent=n?'Desativar Dicas':'Ativar Dicas'}function M(){let t=8,r=Math.min(innerWidth,innerHeight)*.8,s=r-2*t;o=(s-p*(i-1))/i;$.style.width=`${r}px`;$.style.height=`${r}px`}function N(t,r){return{left:p+r*(o+p),top:p+t*(o+p)}}function L(){M();O();let t=n?W():null;for(let r=0;r<i;r++)for(let s=0;s<i;s++){let u=j[r][s];if(u===0)continue;let v=A(r,s);v?B(v,r,s,u):v=C(r,s,u);D(v,r,s);E(v,r,s,u,t)}}function O(){$.querySelectorAll('.T').forEach(t=>{let r=parseInt(t.dataset.r),s=parseInt(t.dataset.c),u=j[r]&&j[r][s];(!u||u===0)&&t.remove()})}function A(t,r){return $.querySelector(`[data-r="${t}"][data-c="${r}"]`)}function C(t,r,s){let u=document.createElement('div');return u.className='T',u.dataset.r=t,u.dataset.c=r,u.textContent=s,u.addEventListener('click',F),$.appendChild(u),u}function B(t,r,s,u){t.dataset.r=r;t.dataset.c=s;t.textContent=u}function D(t,r,s){let u=N(r,s);t.style.left=`${u.left}px`;t.style.top=`${u.top}px`;t.style.width=`${o}px`;t.style.height=`${o}px`}function E(t,r,s,u,v){t.className='T';let w=r*i+s+1;u===w&&t.classList.add('C');v&&v.r===r&&v.c===s&&t.classList.add('N')}function F(t){if(q)return;let r=parseInt(t.currentTarget.dataset.r),s=parseInt(t.currentTarget.dataset.c);R(r,s)&&G(t.currentTarget,r,s)}function R(t,r){return Math.abs(t-k.r)+Math.abs(r-k.c)===1}function G(t,r,s){q=!0;t.classList.add('m');let u=N(k.r,k.c);t.style.left=`${u.left}px`;t.style.top=`${u.top}px`;setTimeout(()=>{H(t,r,s)},300)}function H(t,r,s){Q(k,{r:r,c:s});k={r:r,c:s};l++;c.textContent=l;t.classList.remove('m');L();S()&&T();q=!1}function P(t,r){return[{r:-1,c:0},{r:1,c:0},{r:0,c:-1},{r:0,c:1}].map(s=>({r:t+s.r,c:r+s.c})).filter(s=>s.r>=0&&s.r<i&&s.c>=0&&s.c<i)}function Q(t,r){let s=j[t.r][t.c];j[t.r][t.c]=j[r.r][r.c];j[r.r][r.c]=s}function S(){for(let t=0;t<i;t++)for(let r=0;r<i;r++){let s=(t*i+r+1)%(i*i);if(j[t][r]!==s)return!1}return!0}function T(){clearInterval(m);f.textContent=l;g.textContent=d.textContent;e.classList.remove('H')}function Y(){let t=Date.now();m=setInterval(()=>{let r=Date.now()-t,s=Math.floor(r/6e4),u=Math.floor(r/1e3%60);d.textContent=`${String(s).padStart(2,'0')}:${String(u).padStart(2,'0')}`},1e3)}function W(){let t=j.flat(),r=X(t,i);return r||Z()}function X(t,r){let s=t=>t.reduce((u,v,w)=>{if(v===0)return u;let x=Math.floor(w/r),y=w%r,z=Math.floor((v-1)/r),A=(v-1)%r;return u+Math.abs(x-z)+Math.abs(y-A)},0),u=[{r:-1,c:0},{r:1,c:0},{r:0,c:-1},{r:0,c:1}],v=s(t),w=[];function x(y,z,A,B,C){let D=s(y),E=B+D;if(E>v)return E;if(D===0)return'F';let F=1/0;for(let G=0;G<4;G++){if(C>=0&&(C^1)===G)continue;let H=z+u[G].r,I=A+u[G].c;if(H<0||H>=r||I<0||I>=r)continue;let J=z*r+A,K=H*r+I,L=y.slice();[L[J],L[K]]=[L[K],L[J]];let M=x(L,H,I,B+1,G);if(M==='F'){B===0&&w.push({r:H,c:I});return'F'}typeof M==='number'&&M<F&&(F=M)}return F}let y=t.indexOf(0),z=Math.floor(y/r),A=y%r;while(1){let B=x(t.slice(),z,A,0,-1);if(B==='F')break;if(B===1/0)return null;v=B}return w[0]}function Z(){let t=j.flat(),r=t=>t.reduce((v,w,x)=>{if(w===0)return v;let y=Math.floor(x/i),z=x%i,A=Math.floor((w-1)/i),B=(w-1)%i;return v+Math.abs(y-A)+Math.abs(z-B)},0),s=null,u=1/0;return P(k.r,k.c).forEach(v=>{let w=t.slice(),x=k.r*i+k.c,y=v.r*i+v.c;[w[x],w[y]]=[w[y],w[x]];let z=r(w);z<u&&(u=z,s=v)}),s}addEventListener('resize',L);I(i)})();</script></body></html>